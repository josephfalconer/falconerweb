// =====
// Classes toggled in JS
// =====================


// sliding frontcover feature
.is-down {
	.nav {
		@include e(item) {
			$blink-delay: 1s;

			@for $i from 2 through 4 {
				&:nth-child(#{$i}) {

					.nav__linkcircle {
						animation: orangeblink 1s #{$blink-delay} 1;
					}
				}

				$blink-delay: $blink-delay + 1s;
			}

			.fill {
				fill: $grey--accent;
			}

			.stroke {
				stroke: $grey--accent;
			}

			circle {
				stroke: $grey--accent;
				fill: rgba(255,255,255,0);
			}

			@include m(logo) {
				border-color: darken($grey--accent, 10%);
			}
		}

		@include e(link) {
			&:hover, &:focus, &:active, &--current {
				@include mq(md, max) {
					color: $orange--active;
				}

				circle {
					stroke: $orange--active;
				}

				.fill {
					fill: $orange--active;

					@include m(onlyhover) {
						fill: $orange--active;					
					}
				}

				.stroke {
					stroke: $orange--active;
				}
			}
		}

		@include e(linkcircle) {
			border-color: darken($grey--accent, 10%);
		}
	}
}

.is-up {
	top: -100%;

	.nav {
		background-color: transparentize($grey--primary, 0.2);
		transform: translateY(100%);
	}

	.page {
		transform: none;
	}
}

.slider--fade {
	transition: left 0s 1s;
	animation: fade-out-in ($main-layout-transition * 2) 1;
}

.is-changing-page {
	transition: top 0s $main-layout-transition;

	.slider {
		transition: none;
		// animation: fade-out-in 2s 1;
	}

	.page {
		opacity: 0;
		transition: opacity $main-layout-transition;
	}
}

$regions-keyframes-keys: map-keys($regions-keyframes);

@each $key in $regions-keyframes-keys {
	.js-#{$key} {
		animation: #{$key} 5s;
	}
}

.js-column {
	flex-direction: column;
}
