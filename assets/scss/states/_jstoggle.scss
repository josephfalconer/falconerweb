// =====
// Classes toggled in JS
// =====================

$regions-fade-duration: $regions-slide-duration / 2;
$regions-sides: 'left', 'top', 'right', 'bottom';

// cycle through sides applying animations
@mixin animations($type) {
	@each $side in $regions-sides {
		&-#{$side} {
			animation: #{$type}-#{$side} $regions-slide-duration;
		}
	}
}

// REGIONS - incoming keyframes
@keyframes in-from-left {
	0% {
		transform: translate(-100%, -50%);
	}

	100% {
		transform: translate(0, -50%);
	}
}

@keyframes in-from-top {
	0% {
		transform: translate(-50%, -100%);
	}

	100% {
		transform: translate(-50%, 0);
	}
}

@keyframes in-from-bottom {
	0% {
		transform: translate(-50%, 100%);
	}

	100% {
		transform: translate(-50%, 0);
	}
}

@keyframes in-from-right {
	0% {
		transform: translate(100%, -50%);
	}

	100% {
		transform: translate(0, -50%);
	}
}

@keyframes in-from-fade {
	100% {
		opacity: 1;
	}
}

// REGIONS - outgoing keyframes
@keyframes out-to-left {
	100% {
		transform: translate(-100%, -50%);
	}
}

@keyframes out-to-top {
	100% {
		transform: translate(-50%, -100%);
	}
}

@keyframes out-to-bottom {
	100% {
		transform: translate(-50%, 100%);
	}
}

@keyframes out-to-right {
	100% {
		transform: translate(100%, -50%);
	}
}

@keyframes out-to-fade {
	100% {
		opacity: 0;
	}
}


// BUTTONS - keyframes
@keyframes button-slide-right {
	50% {
		transform: translate(100%, -50%);
		opacity: 0;
	}
}

@keyframes button-slide-left {
	50% {
		transform: translate(-100%, -50%);
		opacity: 0;
	}
}

@keyframes button-slide-up {
	50% {
		transform: translate(-50%, -100%);
		opacity: 0;
	}
}

@keyframes button-slide-down {
	50% {
		transform: translate(-50%, 100%);
		opacity: 0;
	}
}



// apply animations
.js {
	&-outgoing {
		z-index: $navigation-z-index - 2;

		@include animations('out-to');	

		&-fade {
			animation: out-to-fade $regions-fade-duration forwards;
		}	
	}

	&-incoming {
		z-index: $navigation-z-index - 1;

		@include animations('in-from');

		&-fade {
			opacity: 0;
			animation: in-from-fade $regions-fade-duration $regions-fade-duration;
		}
	}

	&-moving-regions {
		.direction {
			pointer-events: none; 

			&--next {
				animation: button-slide-right $regions-slide-duration;
			}

			&--prev {
				animation: button-slide-left $regions-slide-duration;
			}

			&--up {
				animation: button-slide-up $regions-slide-duration;
			}

			&--down {
				animation: button-slide-down $regions-slide-duration;
			}

			i {
				transition: all 0.2s;

				&:first-of-type {
					transform: rotate(90deg);
				}

				&:last-of-type {
					transform: none;
				}
			}

			&__text {
				display: none;
			}

			&:hover .direction__icon::after {
				opacity: 1;
			}
		}		
	}

	&-nav-backgrounds {
		.nav__menu,
		.direction {
			background-color: $black-transparent;
		}
	}
}

.direction {
	&.js-hidden-button {
		pointer-events: none;
		animation: none;
		opacity: 0;
		transition: all $regions-slide-duration / 2;
	}

	&.js-visible-button {
		transform: none;
		opacity: 1;
		transition: all $regions-slide-duration / 2 $regions-slide-duration / 2;
		animation: none;
	}

	&--prev {
		&.js-hidden-button {
			transform: translateX(-100%);
		}
	}

	&--next {
		&.js-hidden-button {
			transform: translateX(100%);
		}
	}

	&--up {
		&.js-hidden-button {
			transform: translateY(-100%);
		}
	}

	&--down {
		&.js-hidden-button {
			transform: translateY(100%);
		}
	}
}
